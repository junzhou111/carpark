(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/duty/duty"],{193:function(e,t,n){"use strict";(function(e,t){var a=n(4);n(26);a(n(25));var o=a(n(194));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},194:function(e,t,n){"use strict";n.r(t);var a=n(195),o=n(197);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n(199);var i,s=n(32),c=Object(s["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],i);c.options.__file="pages/duty/duty.vue",t["default"]=c.exports},195:function(e,t,n){"use strict";n.r(t);var a=n(196);n.d(t,"render",(function(){return a["render"]})),n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(t,"components",(function(){return a["components"]}))},196:function(e,t,n){"use strict";var a;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return a}));try{a={uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,375))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,383))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,393))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,366))},uActionSheet:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-action-sheet/u-action-sheet")]).then(n.bind(null,401))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.show=!0},e.e1=function(t){e.Manualentryshow=!1},e.e2=function(t){e.car.show=!1},e.e3=function(t){e.car.show=!1},e.e4=function(t){e.car.show=!0},e.e5=function(t){e.color.show=!1},e.e6=function(t){e.color.show=!0})},r=!1,i=[];o._withStripped=!0},197:function(e,t,n){"use strict";n.r(t);var a=n(198),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},198:function(e,t,n){"use strict";(function(e){var a=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(55)),r=a(n(57)),i=n(166),s={data:function(){return{usercodes:"",show:!0,carparkloglist:[],carregionlist:[],itemlist:[],Manualentryshow:!1,Manualentrydata:{},carplated:"",carplate:"",car:{title:"车辆类型",list:[["未知车牌","蓝牌小汽车","黑牌小汽车","单排黄牌","双排黄牌","警车车牌","武警车牌","个性化车牌","单排军车牌","双排军车牌","使馆车牌","香港车牌","农用车牌","澳门牌","厂内牌","民航牌","领事馆车牌","新能源车牌","应急车牌"]],show:!1,value:"车辆类型",type:""},color:{title:"车辆颜色",list:[{name:"未知",index:"0"},{name:"蓝色",index:"1"},{name:"黄色",index:"2"},{name:"白色",index:"3"},{name:"黑色",index:"4"},{name:"绿色",index:"5"}],show:!1,value:"车辆颜色",type:"all"},operatetype:"1",numberplateid:"",ids:"",Openinggate:"",Remoteopenitem:{},time:""}},methods:{open:function(){},close:function(){this.show=!1},Manualentry:function(e,t){this.operatetype="1",this.Manualentryshow=!0,this.Manualentrydata.io=t.io,this.Manualentrydata.location_id=t.location_id,this.Manualentrydata.location_type=t.location_type,console.log(this.Manualentrydata,"Manualentrydata")},selectClick:function(e){this.car.value=e.value[0],this.car.type=e.indexs[0],console.log(e,"index"),console.log(this.car,"car"),this.car.show=!1},colorClick:function(e){console.log("车辆颜色",e),this.color.value=e.name,this.color.type=e.index,console.log(this.color,"color")},submit:function(){var t=this;return(0,r.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={requestType:"AddCarIo",data:{sessionid:e.getStorageSync("sessionid"),io:t.Manualentrydata.io,location_type:t.Manualentrydata.location_type,location_id:t.Manualentrydata.location_id,carscan:t.carplate,cartype:t.car.type,carcolor:t.color.type,triggertype:4,release:1,isout:t.Manualentrydata.io}},n.next=3,(0,i.getcarparklog)(a);case 3:r=n.sent,console.log("手动录入",r.data.data),t.Manualentryshow=!1,t.carplate="",t.car.value="车辆类型",t.car.type="",t.color.value="车辆颜色",t.color.type="",t.getRealTime(t.ids);case 12:case"end":return n.stop()}}),n)})))()},numberplate:function(e,t){this.operatetype="2",this.Manualentryshow=!0,console.log(e,t),this.carplated=t.carscan,this.numberplateid=e},numberplatesubmit:function(){var t=this;return(0,r.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={requestType:"UpCarScan",data:{sessionid:e.getStorageSync("sessionid"),carscan:t.carplate,id:t.numberplateid}},n.next=3,(0,i.getcarparklog)(a);case 3:r=n.sent,console.log("车牌纠正",r.data.data),t.Manualentryshow=!1,t.getRealTime(t.ids);case 7:case"end":return n.stop()}}),n)})))()},Remoteopening:function(e,t){this.operatetype="3",this.Manualentryshow=!0,console.log("item",t),this.Remoteopenitem=t},Remoteopeningsubmit:function(){var t=this;return(0,r.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={requestType:"OpenPark",data:{sessionid:e.getStorageSync("sessionid"),io:t.Remoteopenitem.io,park_id:t.Remoteopenitem.park_id,park_area_id:t.Remoteopenitem.park_area_id,remark:t.Openinggate,location_type:t.Remoteopenitem.location_type,location_id:t.Remoteopenitem.location_id}},n.next=3,(0,i.getcarparklog)(a);case 3:r=n.sent,console.log("遥控开闸",r.data.data),t.Manualentryshow=!1,t.getRealTime(t.ids);case 7:case"end":return n.stop()}}),n)})))()},Manualcapture:function(e,t){console.log("item",t),this.Manualcapturesubmit(t)},Manualcapturesubmit:function(t){var n=this;return(0,r.default)(o.default.mark((function a(){var r,s;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={requestType:"HandIdentify",data:{sessionid:e.getStorageSync("sessionid"),location_type:t.location_type,location_id:t.location_id}},a.next=3,(0,i.getcarparklog)(r);case 3:s=a.sent,console.log("手动抓拍",s.data.data),n.getRealTime(n.ids);case 6:case"end":return a.stop()}}),a)})))()},Environmentalcamera:function(e,t){this.Environmentalcameraapi(t)},Environmentalcameraapi:function(t){var n=this;return(0,r.default)(o.default.mark((function a(){var r,s;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={requestType:"GetCameraIP",data:{sessionid:e.getStorageSync("sessionid"),type:30,location_type:t.location_type,location_id:t.location_id}},a.next=3,(0,i.getcarparklog)(r);case 3:s=a.sent,console.log("环境相机",s.data.data),n.getRealTime(n.ids);case 6:case"end":return a.stop()}}),a)})))()},parklotchange:function(e){this.carparkloglist[e].type=!this.carparkloglist[e].type,console.log(this.carparkloglist,"点击获取checkbox状态")},carregionchange:function(e){this.carregionlist[e].type=!this.carregionlist[e].type,console.log(this.carregionlist,"点击获取checkbox状态")},confirmbtn:function(){this.show=!1;var e=[];this.carparkloglist.filter((function(t){1==t.type&&e.push(t.id)})),console.log(e,"alist");for(var t=[],n=0;n<=e.length-1;n++)t.push("0:"+e[n]);console.log(t,"aids");var a=t.join(";");console.log(a,"ares");var o=[];this.carregionlist.filter((function(e){1==e.type&&o.push(e.id)})),console.log(o,"blist");for(var r=[],i=0;i<=o.length-1;i++)r.push("1:"+o[i]);console.log(r,"bids");var s=r.join(";");console.log(s,"bres"),this.ids=a+";"+s,console.log(this.ids,"ids"),this.getRealTime(this.ids),console.log(this,"this1");var c=this;this.time=setInterval((function(){c.getRealTime(c.ids)}),2e3)},getRealTime:function(t){var n=this;return(0,r.default)(o.default.mark((function a(){var r,s;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={requestType:"RealTime",data:{sessionid:e.getStorageSync("sessionid"),ids:t}},a.next=3,(0,i.getcarparklog)(r);case 3:s=a.sent,console.log("调用摄像头接口",s.data.data),n.itemlist=s.data.data,console.log("11111",n.itemlist);case 7:case"end":return a.stop()}}),a)})))()},getcarparkloglist:function(){var t=this;return(0,r.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={requestType:"GetParkChannelAll",data:{sessionid:e.getStorageSync("sessionid")}},n.next=3,(0,i.getcarparklog)(a);case 3:r=n.sent,console.log("获取所有车场出入口列表",r.data.data),t.carparkloglist=r.data.data,t.getcarregionlist();case 7:case"end":return n.stop()}}),n)})))()},getcarregionlist:function(){var t=this;return(0,r.default)(o.default.mark((function n(){var a,r,s,c;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={requestType:"GetParkAreaChannelAll",data:{sessionid:e.getStorageSync("sessionid")}},n.next=3,(0,i.getcarparklog)(a);case 3:for(r=n.sent,console.log("获取所有区域出入口列表",r.data.data),t.carregionlist=r.data.data,console.log(t.carparkloglist,"carparkloglist"),console.log(t.carregionlist,"carregionlist"),s=0;s<=t.carparkloglist.length-1;s++)t.carparkloglist[s].type=!0;for(c=0;c<=t.carregionlist.length-1;c++)t.carregionlist[c].type=!0;console.log(t.carparkloglist,"carparkloglist"),console.log(t.carregionlist,"carregionlist");case 12:case"end":return n.stop()}}),n)})))()}},onLoad:function(){this.getcarparkloglist(),this.usercodes=e.getStorageSync("usercode")},onHide:function(){clearInterval(this.time)}};t.default=s}).call(this,n(2)["default"])},199:function(e,t,n){"use strict";n.r(t);var a=n(200),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},200:function(e,t,n){}},[[193,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/duty/duty.js.map